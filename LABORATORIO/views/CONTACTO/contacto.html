<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Revista Digital/Contáctanos</title>
    <link rel="icon" href="https://elucabista.com/wp-content/uploads/2024/05/el-ucabista-favicon.png"/>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/LABORATORIO/shared/css/commun.css" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />
</head>

<body>
    <!-- Navbar de Bootstrap -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Mi Revista Digital</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/LABORATORIO/INDEX/index.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#Noticias">Noticias</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#Blogs">Blogs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/LABORATORIO/views/CONTACTO/contacto.html">Contacto</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/LABORATORIO/views/CONFIG/configuracion.html">Configuración</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <!-- Encabezado -->
    <header class="header-principal py-5 text-center bg-light">
        <div class="container">
            <h1 class="display-4">Mi Revista Digital</h1>
            <p class="lead subtitulo">Información de Contacto</p>
        </div>
    </header>

    <!-- Contenido principal -->
    <main class="container my-5">
        <section class="contact-section">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <!-- Componente de Bootstrap: Card -->
                    <div class="card shadow">
                        <div class="card-body">
                            <h2 class="card-title text-center mb-4">Formulario de Contacto</h2>
                            <p class="text-center text-muted mb-4"><em>Por favor, llene el formulario para aceptar su solicitud de contacto.</em></p>
                            
                            <form id="contactForm" class="contact-form">
                                <!-- Componente de Bootstrap: List group para pasos -->
                                <ul class="list-group list-group-horizontal-md mb-4">
                                    <li class="list-group-item active flex-fill text-center">1. Datos Personales</li>
                                    <li class="list-group-item flex-fill text-center">2. Información Principal</li>
                                    <li class="list-group-item flex-fill text-center">3. Enviar</li>
                                </ul>
                                
                                <!-- Datos Personales -->
                                <fieldset class="mb-4">
                                    <legend class="h5 mb-3">Datos Personales</legend>
                                    
                                    <div class="mb-3">
                                        <label for="nombre_apellido" class="form-label">Nombre y Apellido<span class="text-danger">*</span>:</label>
                                        <input type="text" class="form-control" id="nombre_apellido" name="nombre_apellido" placeholder="Ej. Pedro Lopez" required>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="correo_electronico" class="form-label">Correo electrónico<span class="text-danger">*</span>:</label>
                                        <input type="email" class="form-control" id="correo_electronico" name="correo_electronico" placeholder="Ej. pedrojuanito@dominio.com" required>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="pais" class="form-label">País de donde nos contacta<span class="text-danger">*</span>:</label>
                                        <select class="form-select" id="pais" name="pais" required>
                                            <option value="">Seleccione</option>
                                            <option value="ve">Venezuela</option>
                                            <option value="es">España</option>
                                            <option value="co">Colombia</option>
                                            <option value="ar">Argentina</option>
                                            <option value="mex">México</option>
                                            <option value="etc">Otro</option>
                                        </select>
                                    </div>
                                </fieldset>
                                
                                <!-- Información Principal -->
                                <fieldset class="mb-4">
                                    <legend class="h5 mb-3">Información Principal</legend>
                                    
                                    <div class="mb-3">
                                        <label for="mensaje_tipo" class="form-label">Seleccione un tipo de mensaje:</label>
                                        <select class="form-select" id="mensaje_tipo" name="mensaje_tipo">
                                            <option value="">Seleccione</option>
                                            <option value="s">Saludos</option>
                                            <option value="c">Comentarios</option>
                                            <option value="r">Recomendaciones</option>
                                            <option value="etc">Otros temas</option>
                                        </select>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="comentarios" class="form-label">Comentarios:</label>
                                        <textarea class="form-control" id="comentarios" name="comentarios" rows="4" placeholder="Ej. Muy buen artículo"></textarea>
                                    </div>
                                </fieldset>
                                
                                <!-- Componente de Bootstrap: Alert -->
                                <div class="alert alert-info mb-4">
                                    <strong>Nota:</strong> Todos los campos marcados con <span class="text-danger">*</span> son obligatorios.
                                </div>
                                
                                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                    <button type="reset" class="btn btn-outline-secondary me-md-2">Limpiar</button>
                                    <button type="submit" class="btn btn-primary">Enviar</button>
                                </div>
                            </form>
                            
                            <!-- Modal para mostrar el resultado -->
                            <div class="modal fade" id="resultModal" tabindex="-1" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title">Resultado del envío</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body" id="modalBody">
                                            <!-- El contenido se llenará dinámicamente -->
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Pie de página -->
    <footer class="footer-principal bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h3><u>Contáctanos</u></h3>
                    <p>
                        Teléfono: 0412-5980-879 <br />
                        Email: jahadg@gmail.com
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p>&copy; 2025 Mi Revista Digital. Todos los derechos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Script para manejar el formulario -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('contactForm');
            const resultModal = new bootstrap.Modal(document.getElementById('resultModal'));
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Obtener los datos del formulario
                const formData = {
                    nombre_apellido: form.nombre_apellido.value,
                    correo_electronico: form.correo_electronico.value,
                    pais: form.pais.value,
                    mensaje_tipo: form.mensaje_tipo.value,
                    comentarios: form.comentarios.value,
                    fecha_envio: new Date().toISOString()
                };
                
                // Enviar datos con Fetch API
                fetch('https://jsonplaceholder.typicode.com/posts', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Error en la respuesta del servidor');
                    }
                    return response.json();
                })
                .then(data => {
                    // Almacenar en localStorage
                    const storedData = JSON.parse(localStorage.getItem('formSubmissions') || []);
                    storedData.push(data);
                    localStorage.setItem('formSubmissions', JSON.stringify(storedData));
                    
                    // Mostrar resultado en modal
                    document.getElementById('modalBody').innerHTML = `
                        <div class="alert alert-success">
                            <h4>¡Envío exitoso!</h4>
                            <p>Los datos se han enviado correctamente y se han almacenado localmente.</p>
                            <pre>${JSON.stringify(data, null, 2)}</pre>
                        </div>
                    `;
                    resultModal.show();
                    
                    // Opcional: resetear el formulario
                    form.reset();
                })
                .catch(error => {
                    document.getElementById('modalBody').innerHTML = `
                        <div class="alert alert-danger">
                            <h4>Error en el envío</h4>
                            <p>Hubo un problema al enviar los datos: ${error.message}</p>
                        </div>
                    `;
                    resultModal.show();
                });
            });
        });
    </script>
</body>
</html>